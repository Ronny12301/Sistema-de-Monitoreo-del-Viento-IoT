<!DOCTYPE html>
<html class="" lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Captura de datos en tiempo real del an√©mometro</title>

    <link href="../css/output.css" rel="stylesheet">
    <script defer src="./views/components/Navbar.js"></script>
    <script defer src="./views/components/Compass.js"></script>
    <script defer src="./views/components/Speedometer.js"></script>
    <script defer src="./views/components/WindDisplayVariables.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.8/dist/cdn.min.js"></script>  
</head>

<body class="bg-slate-50 dark:bg-gray-900 dark:text-white">
    <my-navbar>Captura de datos</my-navbar>  
    
    <display-variables></display-variables>

    <div class="flex bellow-sm:flex-col justify-center items-center md:absolute md:bottom-14 md:h-2/3 md:end-32">
        <my-speedometer class="my-[38px] mx-5"></my-speedometer>
        <my-compass class="my-[50px] mx-5 z-0"></my-compass>
    </div>

    <div class="md:absolute bottom-0 mb-4 start-2 end-2 py-3 shadow bg-sky-100 dark:bg-gray-600
        mx-8 sm:mx-36 md:mx-[30rem] lg:mx-[45rem] rounded-lg"
    >
        <p id="raw-string" class="text-2xl text-center">
            ---
        </p>
    </div>

    <div class="md:absolute bottom-1/2 md:left-[13%]">
        <a  href="#" id="archive"
            class="px-32 py-3 rounded-xl shadow 
                text-white text-lg font-medium text-center
                bg-green-500 hover:bg-green-600 active:bg-green-700
                dark:bg-green-600 dark:hover:bg-green-700 dark:active:bg-green-800
                bellow-md:absolute bellow-md:left-0 bellow-md:right-0
                bellow-sm:mx-8 bellow-md:sm:mx-36"
        >
            Ver Registros
        </a>
    </div>

    <script src="../js/update-message.js"></script>
    <script src="../js/dark-mode.js"></script>
    <script src="../js/date-formatting.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const linkElement = document.getElementById('archive');
            const currentDateIso = getISODate(new Date());
            const hrefValue = `/day?created_at=${currentDateIso}`;
            linkElement.setAttribute('href', hrefValue);
        });
    </script>

    <script>
        setInterval(updateMessage, 500);
    </script>
</body>
</html>